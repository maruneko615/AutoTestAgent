# AutoTestAgent 開發環境安裝指南

## 📋 系統需求

### 目標平台
- **Windows 10/11** (主要支援平台)
- **Python 3.8+** (建議 3.10+)

---

## 🛠️ 必要工具安裝

### 1. Python 環境
```bash
# 檢查 Python 版本
python --version
# 或
python3 --version
```
**最低需求**: Python 3.8  
**建議版本**: Python 3.10+

### 2. Python 套件管理器
```bash
# 檢查 pip 是否可用
pip --version
```

### 3. 必要 Python 套件

#### 3.1 Protobuf (必須)
```bash
# 安裝 protobuf
pip install protobuf

# 驗證安裝
python -c "import google.protobuf; print('Protobuf 安裝成功')"
```
**用途**: 處理 GameFlowData 和 InputCommand 的序列化/反序列化

#### 3.2 其他內建模組
以下模組為 Python 標準庫，無需額外安裝：
- `socket` - UDP 通訊
- `threading` - 多執行緒處理
- `time` - 時間戳和延遲
- `random` - 隨機輸入生成
- `sys` - 系統相關功能
- `os` - 檔案路徑處理

---

## 🔧 開發工具 (可選)

### 1. Amazon Q CLI
```bash
# 安裝 Q CLI (用於 AgentMaker)
# 請參考 AWS 官方文件安裝
```
**用途**: AgentMaker 使用 Q CLI 生成程式碼

### 2. Protocol Buffers 編譯器 (可選)
```bash
# Windows 下載 protoc.exe
# 從 https://github.com/protocolbuffers/protobuf/releases 下載
```
**用途**: 將 `.proto` 文件編譯成 Python 代碼

---

## 📁 專案結構需求

```
AutoTestAgent/
├── GameSetting/
│   └── AutoTest_Game_Setting.md    # 遊戲配置文件
├── ProtoSchema/
│   ├── GameFlowData.proto          # 遊戲流程數據定義
│   ├── GameFlowData_pb2.py         # 編譯後的 Python 代碼
│   ├── InputCommand.proto          # 輸入指令定義
│   └── InputCommand_pb2.py         # 編譯後的 Python 代碼
├── AgentMaker.py                   # 程式碼生成工具
└── AutoTestAgent.py                # 生成的測試工具
```

---

## ✅ 環境驗證

### 快速檢查腳本
```python
# 創建 check_environment.py
import sys

print("🔍 檢查開發環境...")
print(f"Python 版本: {sys.version}")

# 檢查 protobuf
try:
    import google.protobuf
    print("✅ Protobuf 已安裝")
except ImportError:
    print("❌ Protobuf 未安裝 - 請執行: pip install protobuf")

# 檢查必要模組
modules = ['socket', 'threading', 'time', 'random', 'os']
for module in modules:
    try:
        __import__(module)
        print(f"✅ {module} 可用")
    except ImportError:
        print(f"❌ {module} 不可用")

print("🏁 環境檢查完成")
```

### 執行檢查
```bash
python check_environment.py
```

---

## 🚀 快速開始

### 1. 安裝依賴
```bash
pip install protobuf
```

### 2. 驗證 ProtoSchema 文件
確認以下文件存在：
- `ProtoSchema/GameFlowData_pb2.py`
- `ProtoSchema/InputCommand_pb2.py`

### 3. 執行 AutoTestAgent
```bash
python AutoTestAgent.py
```

---

## 🐛 常見問題

### Q: 執行時出現 "No module named 'google'"
**A**: 需要安裝 protobuf 套件
```bash
pip install protobuf
```

### Q: 找不到 ProtoSchema 模組
**A**: 確認 ProtoSchema 資料夾存在且包含 `_pb2.py` 文件

### Q: Windows 下程式視窗快速關閉
**A**: 使用 Windows 專用版本，包含 `input("按 Enter 鍵結束...")` 機制

### Q: UDP 連接失敗
**A**: 確認：
- 遊戲端正在運行
- 端口 8587 未被占用
- 防火牆允許 UDP 通訊

---

## 📝 版本記錄

| 版本 | 日期 | 變更內容 |
|------|------|----------|
| 1.0 | 2025-01-07 | 初始版本，Windows 專用支援 |

---

**維護者**: AutoTest 開發團隊  
**最後更新**: 2025-01-07
