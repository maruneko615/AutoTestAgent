[2025-09-04 18:26:36] 📝 Log 輸出已啟用，檔案: output.log
[2025-09-04 18:26:36] 🤖 SR4 Test Agent initialized (Modular Version)
[2025-09-04 18:26:36] 📡 Target server: udp://127.0.0.1:8587
[2025-09-04 18:26:36] 🎮 Session ID: 96b44724-cc3e-4a93-9521-6fba410012ea
[2025-09-04 18:26:36] 📋 Requirement: Random Mode
[2025-09-04 18:26:36] 🎮 COPYRIGHT state handler initialized
[2025-09-04 18:26:36] 🎮 WARNING state handler initialized
[2025-09-04 18:26:36] 🎮 LOGO state handler initialized
[2025-09-04 18:26:36] 🎮 PV state handler initialized
[2025-09-04 18:26:36] 🪙 CoinPage state handler initialized
[2025-09-04 18:26:36] 🔧 SELECT_BIKE handler initialized (共用時間基礎檢測)
[2025-09-04 18:26:36] ⚙️ 共用參數 - 卡住閾值: 1.0s, 預設方向: right
[2025-09-04 18:26:36] 🔧 SELECT_SCENE handler initialized (共用時間基礎檢測)
[2025-09-04 18:26:36] ⚙️ 共用參數 - 卡住閾值: 1.0s, 預設方向: right
[2025-09-04 18:26:36] 🏁 Race state handler initialized
[2025-09-04 18:26:36] 🎮 RACE_END state handler initialized
[2025-09-04 18:26:36] 🎮 GAME_OVER state handler initialized
[2025-09-04 18:26:36] 🎮 RANKING state handler initialized
[2025-09-04 18:26:36] 🎮 PROMOTION state handler initialized
[2025-09-04 18:26:36] 🎮 ACCOUNT_ENTRY state handler initialized
[2025-09-04 18:26:36] 🎮 PHOTO_AUTH state handler initialized
[2025-09-04 18:26:36] 🔧 SELECT_MODE handler initialized (共用時間基礎檢測)
[2025-09-04 18:26:36] ⚙️ 共用參數 - 卡住閾值: 1.0s, 預設方向: right
[2025-09-04 18:26:36] 🎮 PAY_FOR_LEVEL state handler initialized
[2025-09-04 18:26:36] 🎮 RIDE_SHOW state handler initialized
[2025-09-04 18:26:36] 🎮 LOAD_FLOW state handler initialized
[2025-09-04 18:26:36] 🎮 LOAD_GAME state handler initialized
[2025-09-04 18:26:36] 🎮 CUTSCENE state handler initialized
[2025-09-04 18:26:36] 🎮 MAP_BEAT_SHOW state handler initialized
[2025-09-04 18:26:36] 🎮 SIGN_NAME state handler initialized
[2025-09-04 18:26:36] 🎮 CONTINUE state handler initialized
[2025-09-04 18:26:36] 🎮 HARDWARE_DETECT state handler initialized
[2025-09-04 18:26:36] 🎮 LOAD_CONTINUE state handler initialized
[2025-09-04 18:26:36] 🎮 LOAD_STANDBY state handler initialized
[2025-09-04 18:26:36] 🎮 OPERATOR_SETTING state handler initialized
[2025-09-04 18:26:36] 🎮 AIRSPRING_ADJUST state handler initialized
[2025-09-04 18:26:36] 🎮 PLAYER_REGISTRATION state handler initialized
[2025-09-04 18:26:36] 🎮 WARNING_FOR_SELECTION state handler initialized
[2025-09-04 18:26:36] 🎮 BATTLE_MAP state handler initialized
[2025-09-04 18:26:36] 🎮 M23_READ state handler initialized
[2025-09-04 18:26:36] 🎮 RACE_FINISH_SHOW state handler initialized
[2025-09-04 18:26:36] 🎮 PLAYER_INFO state handler initialized
[2025-09-04 18:26:36] 🎮 LOCAL_BEAT_SHOW state handler initialized
[2025-09-04 18:26:36] 🎮 AGENT_LOGO state handler initialized
[2025-09-04 18:26:36] 🎮 UE_LOGO state handler initialized
[2025-09-04 18:26:36] 🎮 CRIWARE_LOGO state handler initialized
[2025-09-04 18:26:36] 🎮 STATIC_COIN_PAGE state handler initialized
[2025-09-04 18:26:36] 🎮 LOAD_RACE_RESULT state handler initialized
[2025-09-04 18:26:36] 🎮 State manager initialized with EGameFlowState-based handlers
[2025-09-04 18:26:36] 📋 Registered 40 state handlers
[2025-09-04 18:26:36] 📋 使用 Sample 基礎範本的固定目標配置
[2025-09-04 18:26:36] 📋 沒有指定目標，所有選擇將使用隨機模式
[2025-09-04 18:26:36] 🎯 Parsed targets: {}
[2025-09-04 18:26:36] 🎯 SELECT_BIKE 目標設定: {}
[2025-09-04 18:26:36] 🎯 SELECT_SCENE 目標設定: {}
[2025-09-04 18:26:36] 🎯 SELECT_MODE 目標設定: {}
[2025-09-04 18:26:36] 🎲 State manager using random mode
[2025-09-04 18:26:36] 🚀 Starting SR4 Test Agent...
[2025-09-04 18:26:36] ==================================================
[2025-09-04 18:26:36] 🔐 開始角色註冊...
[2025-09-04 18:26:41] ❌ 角色註冊超時
[2025-09-04 18:26:41] ❌ UDP 連線失敗: 角色註冊失敗
[2025-09-04 18:26:41] ❌ UDP error: 角色註冊失敗
[2025-09-04 18:26:41] ❌ Agent error: 角色註冊失敗
[2025-09-04 18:26:41] ⏹️  Stopping agent...
[2025-09-04 18:26:42] 🔄 UDP 接收循環結束
[2025-09-04 18:26:42] 🔌 UDP connection closed
[2025-09-04 18:26:42] 🔄 COPYRIGHT state reset
[2025-09-04 18:26:42] 🔄 WARNING state reset
[2025-09-04 18:26:42] 🔄 LOGO state reset
[2025-09-04 18:26:42] 🔄 PV state reset
[2025-09-04 18:26:42] 🔄 CoinPage state reset
[2025-09-04 18:26:42] 🔄 SELECT_BIKE 搜尋狀態已重置
[2025-09-04 18:26:42] 🔄 SelectBike state reset - 準備新流程
[2025-09-04 18:26:42] 🔄 SELECT_SCENE 搜尋狀態已重置
[2025-09-04 18:26:42] 🔄 SelectScene state reset - 準備接收新目標
[2025-09-04 18:26:42] 🔄 Race state reset
[2025-09-04 18:26:42] 🔄 RACE_END state reset
[2025-09-04 18:26:42] 🔄 GAME_OVER state reset
[2025-09-04 18:26:42] 🔄 RANKING state reset
[2025-09-04 18:26:42] 🔄 PROMOTION state reset
[2025-09-04 18:26:42] 🔄 ACCOUNT_ENTRY state reset
[2025-09-04 18:26:42] 🔄 PHOTO_AUTH state reset
[2025-09-04 18:26:42] 🔄 SELECT_MODE 搜尋狀態已重置
[2025-09-04 18:26:42] 🔄 SelectMode state reset
[2025-09-04 18:26:42] 🔄 PAY_FOR_LEVEL state reset
[2025-09-04 18:26:42] 🔄 RIDE_SHOW state reset
[2025-09-04 18:26:42] 🔄 LOAD_FLOW state reset
[2025-09-04 18:26:42] 🔄 LOAD_GAME state reset
[2025-09-04 18:26:42] 🔄 CUTSCENE state reset
[2025-09-04 18:26:42] 🔄 MAP_BEAT_SHOW state reset
[2025-09-04 18:26:42] 🔄 SIGN_NAME state reset
[2025-09-04 18:26:42] 🔄 CONTINUE state reset
[2025-09-04 18:26:42] 🔄 HARDWARE_DETECT state reset
[2025-09-04 18:26:42] 🔄 LOAD_CONTINUE state reset
[2025-09-04 18:26:42] 🔄 LOAD_STANDBY state reset
[2025-09-04 18:26:42] 🔄 OPERATOR_SETTING state reset
[2025-09-04 18:26:42] 🔄 AIRSPRING_ADJUST state reset
[2025-09-04 18:26:42] 🔄 PLAYER_REGISTRATION state reset
[2025-09-04 18:26:42] 🔄 WARNING_FOR_SELECTION state reset
[2025-09-04 18:26:42] 🔄 BATTLE_MAP state reset
[2025-09-04 18:26:42] 🔄 M23_READ state reset
[2025-09-04 18:26:42] 🔄 RACE_FINISH_SHOW state reset
[2025-09-04 18:26:42] 🔄 PLAYER_INFO state reset
[2025-09-04 18:26:42] 🔄 LOCAL_BEAT_SHOW state reset
[2025-09-04 18:26:42] 🔄 AGENT_LOGO state reset
[2025-09-04 18:26:42] 🔄 UE_LOGO state reset
[2025-09-04 18:26:42] 🔄 CRIWARE_LOGO state reset
[2025-09-04 18:26:42] 🔄 STATIC_COIN_PAGE state reset
[2025-09-04 18:26:42] 🔄 LOAD_RACE_RESULT state reset
[2025-09-04 18:26:42] ⏹️  State manager stopped
